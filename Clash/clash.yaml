mixed-port: 7893
#å½“å¤šä¸ª TCP è¯·æ±‚åŒæ—¶å‘å‡ºæ—¶ï¼ŒClash ä¼šå¹¶å‘å¤„ç†è¿™äº›è¯·æ±‚ï¼Œä»è€Œæå‡æ€§èƒ½å’Œå“åº”é€Ÿåº¦
tcp-concurrent: true
#å¦‚æœè®¾ç½®ä¸º trueï¼Œå±€åŸŸç½‘ä¸­çš„å…¶ä»–è®¾å¤‡å¯ä»¥é€šè¿‡ Clash çš„ IP åœ°å€å’Œç«¯å£å·ä½¿ç”¨ä»£ç†æœåŠ¡
allow-lan: true
#å¦‚æœè®¾ç½®ä¸º falseï¼ŒClash ä¸ä¼šå¤„ç† IPv6 æµé‡ï¼Œä¹Ÿä¸ä¼šè§£æ IPv6 åœ°å€ã€‚
ipv6: false
#åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒClash ä¼šå¯¹è¯·æ±‚è¿›è¡Œå»¶è¿Ÿå¤„ç†ä»¥ä¼˜åŒ–æ€§èƒ½ã€‚
unified-delay: true
#Clash ä¼šä¼ªè£…æˆ Chrome æµè§ˆå™¨å‘é€è¯·æ±‚ï¼Œä»¥æé«˜å…¼å®¹æ€§å’Œéšç§æ€§ã€‚
global-client-fingerprint: chrome
#è®¾ç½® Clash æŸ¥æ‰¾è¿›ç¨‹çš„æ¨¡å¼ã€‚strictï¼šä¸¥æ ¼æ¨¡å¼ï¼ŒåªæŸ¥æ‰¾æ˜ç¡®çš„è¿›ç¨‹ä¿¡æ¯ã€‚looseï¼šå®½æ¾æ¨¡å¼ï¼Œå…è®¸æ¨¡ç³ŠæŸ¥æ‰¾
find-process-mode: strict

geodata-mode: true
geox-url:
  geoip: "https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/geoip.dat"
  geosite: "https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/geosite.dat"
  mmdb: "https://cdn.jsdelivr.net/gh/Loyalsoldier/geoip@release/Country.mmdb"
  asn: "https://cdn.jsdelivr.net/gh/Loyalsoldier/geoip@release/Country-asn.mmdb"

#ç”¨äºæ§åˆ¶ Clash çš„é…ç½®æ–‡ä»¶è¡Œä¸ºï¼Œç‰¹åˆ«æ˜¯ç”¨æˆ·é€‰æ‹©çš„èŠ‚ç‚¹å’Œ fake-ip æ¨¡å¼çš„ç›¸å…³è®¾ç½®ã€‚
profile: { store-selected: true, store-fake-ip: false }
#å¯ç”¨æµé‡å—…æ¢åŠŸèƒ½
sniffer: { enable: true, sniff: { HTTP: { ports: [80], override-destination: true }, TLS: { ports: [443, 8443] }, QUIC: { ports: [443, 8443] } } }

tun:
  enable: true
  stack: mixed
  dns-hijack: [any:53]

dns:
  enable: true
  ipv6: false
  #è¿™æ˜¯é»˜è®¤çš„ DNS æœåŠ¡å™¨åˆ—è¡¨ï¼ŒClash ä¼šä¼˜å…ˆä½¿ç”¨è¿™äº›æœåŠ¡å™¨è¿›è¡Œ DNS æŸ¥è¯¢
  default-nameserver: [223.5.5.5, 119.29.29.29]
  #è¿™æ˜¯ Clash çš„å¢å¼º DNS æ¨¡å¼ï¼Œfake-ip æ¨¡å¼ä¼šå°†æ‰€æœ‰è§£æçš„åŸŸåæ˜ å°„åˆ°ä¸€ä¸ªè™šå‡çš„ IP åœ°å€ï¼ˆä¾‹å¦‚ 198.18.0.1/16 èŒƒå›´å†…çš„åœ°å€ï¼‰ï¼Œä»è€Œå®ç°é€æ˜ä»£ç†ã€‚
  #å¦ä¸€ç§æ¨¡å¼æ˜¯ redir-hostï¼Œç›´æ¥è¿”å›çœŸå®çš„ IP åœ°å€
  enhanced-mode: fake-ip
  #åœ¨ fake-ip æ¨¡å¼ä¸‹ï¼ŒClash ä¼šä½¿ç”¨è¿™ä¸ª IP åœ°å€èŒƒå›´ç”Ÿæˆè™šå‡çš„ IP åœ°å€ã€‚198.18.0.1/16 æ˜¯ä¸“é—¨ä¿ç•™ç”¨äºç½‘ç»œæµ‹è¯•çš„åœ°å€èŒƒå›´ï¼Œä¸ä¼šä¸å®é™…çš„å…¬ç½‘ IP å†²çª
  fake-ip-range: 198.18.0.1/16
  #è¡¨ç¤ºæ˜¯å¦ä½¿ç”¨ç³»ç»Ÿçš„ hosts æ–‡ä»¶æ¥è§£æåŸŸåã€‚å¦‚æœè®¾ç½®ä¸º trueï¼ŒClash ä¼šä¼˜å…ˆæ ¹æ® hosts æ–‡ä»¶ä¸­çš„é…ç½®è§£æåŸŸåã€‚
  use-hosts: true
  #ä¸»è¦çš„ DNS æœåŠ¡å™¨åˆ—è¡¨ï¼Œæ”¯æŒ DoHï¼ˆDNS over HTTPSï¼‰åè®®ã€‚Clash ä¼šä¼˜å…ˆä½¿ç”¨è¿™äº›æœåŠ¡å™¨è§£æåŸŸå
  nameserver: ['https://doh.pub/dns-query', 'https://dns.alidns.com/dns-query']
  #å¤‡ç”¨çš„ DNS æœåŠ¡å™¨åˆ—è¡¨ã€‚å¦‚æœä¸»è¦çš„ nameserver æ— æ³•è§£ææŸäº›åŸŸåï¼ˆä¾‹å¦‚è¢«æ±¡æŸ“æˆ–è¢«é˜»æ­¢çš„åŸŸåï¼‰ï¼ŒClash ä¼šå°è¯•ä½¿ç”¨è¿™äº›å¤‡ç”¨çš„ DNS æœåŠ¡å™¨
  fallback: ['https://doh.dns.sb/dns-query', 'https://dns.cloudflare.com/dns-query', 'https://dns.twnic.tw/dns-query', 'tls://8.8.4.4:853']
  #å¤‡ç”¨ DNS çš„è¿‡æ»¤è§„åˆ™ï¼Œç”¨äºå†³å®šå“ªäº›åŸŸåä¼šä½¿ç”¨ fallback æœåŠ¡å™¨è§£æ
  # geoip: trueï¼šè¡¨ç¤ºå¯ç”¨ GeoIP æ£€æµ‹ã€‚Clash ä¼šæ ¹æ®åŸŸåçš„åœ°ç†ä½ç½®å†³å®šæ˜¯å¦ä½¿ç”¨å¤‡ç”¨ DNS
  # ipcidr: [240.0.0.0/4, 0.0.0.0/32]ï¼šæŒ‡å®š IP åœ°å€èŒƒå›´è¿‡æ»¤è§„åˆ™
  fallback-filter: { geoip: true, ipcidr: [240.0.0.0/4, 0.0.0.0/32] }
  

######### é”šç‚¹ start #######
# proxyç­–ç•¥ç›¸å…³
pg: &pg { type: select, proxies: [ é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,æ–°åŠ å¡èŠ‚ç‚¹,EmbyèŠ‚ç‚¹,æ‰‹åŠ¨é€‰æ‹©,è‡ªåŠ¨é€‰æ‹©,DIRECT] }
#è®¢é˜…æ›´æ–°ç›¸å…³
pu: &pu { type: http, interval: 86400, health-check: { enable: true, url: https://www.apple.com/library/test/success.html, interval: 300 ,timeout: 5000} }
#å»¶è¿Ÿæµ‹è¯•ç›¸å…³
url-test: &url-test { type: url-test, url: https://www.apple.com/library/test/success.html, interval: 60,tolerance: 0, include-all: true }
#èŠ‚ç‚¹é€‰æ‹©
select : &select { type: select,   use: [ Subscribe ] }
bd: &bd { type: http, format: text,  behavior: domain,    interval: 86400 }
bc: &bc { type: http, format: text,  behavior: classical, interval: 86400 }


proxy-providers:
  Subscribe:
    url: "è®¢é˜…åœ°å€"
    <<: *pu
proxies: []
proxy-groups:

  #ç­–ç•¥ç»„
  - { name: æ‰‹åŠ¨é€‰æ‹©, <<: *select ,icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Rocket.png}
  - { name: Global,   <<: *pg ,icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png}
  - { name: Ai, <<: *pg ,icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Bot.png}
  - { name: Telegram,  <<: *pg ,icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png}
  - { name: YouTube, <<: *pg ,icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png}
  - { name: Github,  <<: *pg ,icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/GitHub.png}
  - { name: Microsoft, <<: *pg ,icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png}
  - { name: Emby, <<: *pg ,icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Emby.png}


  #èŠ‚ç‚¹ç­›é€‰
  - { name: è‡ªåŠ¨é€‰æ‹©, hidden: true, <<: *url-test ,icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png}
  - { name: EmbyèŠ‚ç‚¹, hidden: false,<<: *select,   filter: "(?i)hy|Emby|0\\.\\d+" ,icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Emby.png}
  - { name: é¦™æ¸¯èŠ‚ç‚¹, hidden: false,<<: *url-test, filter: "(?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b)" ,icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png}
  - { name: å°æ¹¾èŠ‚ç‚¹, hidden: false,<<: *url-test, filter: "(?i)ğŸ‡¹ğŸ‡¼|å°æ¹¾|(\b(TW|Tai|Taiwan)\b)" ,icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Taiwan.png}
  - { name: æ—¥æœ¬èŠ‚ç‚¹, hidden: false,<<: *url-test, filter: "(?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|(\b(JP|Japan)\b)" ,icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png}
  - { name: ç¾å›½èŠ‚ç‚¹, hidden: false,<<: *url-test, filter: "(?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(\b(US|United States)\b)" ,icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png}
  - { name: éŸ©å›½èŠ‚ç‚¹, hidden: false,<<: *url-test, filter: "(?i)ğŸ‡°ğŸ‡·|éŸ©å›½|éŸ“|é¦–å°”|(\b(KR|Korea)\b)" ,icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Korea.png}
  - { name: æ–°åŠ å¡èŠ‚ç‚¹, hidden: false,<<: *url-test, filter: "(?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\b)" ,icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png}

rule-providers:
  ai:   { <<: *bc , url: https://raw.githubusercontent.com/sephiroth233/Tool/master/Clash/Rules/AI.list,   path: ./ruleset/ai.yaml }
  emby: { <<: *bc , url: https://raw.githubusercontent.com/sephiroth233/Tool/master/Clash/Rules/Emby.list, path: ./ruleset/emby.yaml }

rules:
  - RULE-SET,emby,Emby
  - RULE-SET,ai,Ai
  - GEOSITE,telegram,Telegram
  - GEOSITE,github,Github
  - GEOSITE,youtube,YouTube
  - GEOSITE,microsoft,Microsoft
  - GEOSITE,cn,DIRECT
  - GEOIP,CN,DIRECT
  - GEOIP,Lan,DIRECT
  - MATCH,Global

